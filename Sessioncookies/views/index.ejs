<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
  </head>

  <body style="background-color: <%= locals.bgColor ? locals.bgColor : null %>;">  
    
    <main class="container" >

      <section class="row">
        <div class="col-12 col-md-8 mx-auto">
          <% if(locals.name) { %>
            <div class="card">
              <div class="card-header">
                Bienvenido
              </div>
            <div class="card-body text-center">
                <h2>Hola <%= name %>, elegiste el color <%= color %>, tu email es: <%= email %> y tu edad es: <%= age %> </h2>
                <a class="btn btn-outline-dark my-5" href="/logout">Salir</a>
            </div>
          </div>           
          <% }else{ %>
            <div class="card">
              <div class="card-header">
                Mundo color
              </div>
              <div class="card-body">
                <form method="POST">
                  <div class="mb-3">
                    <label for="name" class="form-label">Ingrese su nombre</label>
                    <input type="text" class="form-control" id="name" name="name">
                    <span class="text-danger small"><%= locals.errors && errors.name ? errors.name.msg : null %> </span>                     
                  </div>
                  <div class="mb-3">
                    <select class="form-select" aria-label="Default select example" name="color">
                        <option selected hidden value="">Seleccione un color</option>
                        <option value="red">Rojo</option>
                        <option value="blue">Azul</option>
                        <option value="green">Verde</option>
                    </select>
                    <span class="text-danger small"><%= locals.errors && errors.color ? errors.color.msg : null %> </span>
                  </div>
                  <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label">Ingrese su email</label>
                    <input name="email" type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
                    <span class="text-danger small"><%= locals.errors && errors.email ? errors.email.msg %> </span>

                  </div>
                  <div class="mb-3">
                    <label for="exampleInputPassword1" class="form-label">Ingrese su edad</label>
                    <input type="text" class="form-control" id="exampleInputPassword1" name="age">
                    <span class="text-danger small"><%= locals.errors && errors.age ? errors.age.msg : null %> </span>
                  </div>
                  <div class="mb-3 form-check">
                    <input type="checkbox"  class="form-check-input" name="recordar" id="exampleCheck1">
                    <label class="form-check-label" for="exampleCheck1">Recordar el color</label>
                  </div>
                  <a href="/destroy" class="btn btn-secondary">Olvidar el color</a>
                  <button type="submit" class="btn btn-primary">Enviar</button>
                </form>
              </div>
            </div>          
        </div>
        <% } %>
      </section>
    </main>
  </body>
</html>
